{"version":3,"file":"can-onboard.min.js","sources":["../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/debounce.js","../src/Onboard.js","../src/utils/Observable.js","../src/OnboardDefaults.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/now.js","../node_modules/lodash-es/_Symbol.js","../src/MaskRenderer.js","../src/PositionResolver.js","../src/utils/BoxUtils.js","../src/ArrowRenderer.js","../src/ProgressRenderer.js","../src/WindowRenderer.js","../src/OnboardRenderer.js","../src/OnboardModel.js","../src/OnboardKeyHandler.js"],"sourcesContent":["/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import Observable from \"./utils/Observable\";\nimport * as Defaults from \"./OnboardDefaults\";\nimport OnboardRenderer from \"./OnboardRenderer\";\nimport OnboardModel from \"./OnboardModel\";\nimport OnboardKeyHandler from \"./OnboardKeyHandler\";\n\n/**\n * @private \n * @param {*} optionValue option value \n * @param {*} defaultOptionValue default option value \n * @returns option or default option value \n */\nfunction getOptionValue(optionValue, defaultOptionValue) {\n\treturn typeof optionValue == \"undefined\" ? defaultOptionValue : optionValue;\n}\n\n/**\n * @class\n * Main onboard class\n * @param {Object} options\n */\nclass Onboard {\n\tconstructor(options) {\n\t\t/**\n\t\t * @private\n\t\t * Options property exposing widget's options\n\t\t */\n\t\tthis._options = {};\n\n\t\t/**\n\t\t * @public\n\t\t * fill color\n\t\t */\n\t\tthis._options.fillColor = getOptionValue(options.fillColor, Defaults.FILL_COLOR);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * fill opacity\n\t\t */\n\t\tthis._options.fillOpacity = getOptionValue(options.fillOpacity, Defaults.FILL_OPACITY);\n\n\t\t/**\n\t\t * @public\n\t\t * Next text\n\t\t */\n\t\tthis._options.nextText = getOptionValue(options.nextText, Defaults.NEXT_TEXT);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * Understand text\n\t\t */\n\t\tthis._options.windowClassName = getOptionValue(options.windowClassName, Defaults.WINDOW_CLASS_NAME);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * animation duration\n\t\t */\n\t\tthis._options.animationDuration = getOptionValue(options.animationDuration, Defaults.ANIMATION_DURATION);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * window width\n\t\t */\n\t\tthis._options.windowWidth = getOptionValue(options.windowWidth, Defaults.WINDOW_WIDTH);\t\t\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * steps\n\t\t */\n\t\tthis._options.steps = options.steps;\n\n\t\t/**\n\t\t * @private\n\t\t * observable handler\n\t\t */\n\t\tthis._observable = new Observable([\n\t\t\t/**\n\t\t\t * @event start\n\t\t\t * @param {Object} step\n\t\t\t * @param {int} index\n\t\t\t */\n\t\t\t\"start\",\n\t\t\t/**\n\t\t\t * @event stop\n\t\t\t * @param {Object} step\n\t\t\t * @param {int} index\n\t\t\t */\n\t\t\t\"stop\",\n\t\t\t/**\n\t\t\t * @event step\n\t\t\t * @param {Object} step\n\t\t\t * @param {int} index\n\t\t\t */\n\t\t\t\"step\"\n\t\t]);\n\n\t\tthis._model = new OnboardModel(this._options);\n\n\t\tthis._model.on(\"start\", (step, index)=>{\n\t\t\tthis._observable.fire(\"start\", step, index)\n\t\t});\n\n\t\tthis._model.on(\"stop\", (step, index)=>{\n\t\t\tthis._observable.fire(\"stop\", step, index)\n\t\t});\n\n\t\tthis._model.on(\"step\", (step, index)=>{\n\t\t\tthis._observable.fire(\"step\", step, index)\n\t\t});\n\n\t\t/**\n\t\t * @private\n\t\t * OnboardRenderer\n\t\t */\n\t\tthis._onboardRenderer = new OnboardRenderer(this._options, this._model);\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tthis._onboardKeyHandler = new OnboardKeyHandler(this._options, this._model);\t\t\n\n\t\tthis.render();\n\t}\n\n\t/**\n\t * Bind widget event\n\t * @param {String} event event name\n\t * @param {Function} handler event handler\n\t * @returns {Onboard} returns this widget instance\n\t */\n\ton(eventName, handler) {\n\t\tthis._observable.on(eventName, handler);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Unbind widget event\n\t * @param {String} event event name\n\t * @param {Function} [handler] event handler\n\t * @returns {Onboard} returns this widget instance\n\t */\n\toff(eventName, handler) {\n\t\tthis._observable.off(eventName, handler);\n\t\treturn this;\n\t}\t\n\n\t/**\n\t * Destroys widget\n\t * @returns {Onboard} returns this widget instance\n\t */\n\tdestroy() {\n\t\tthis._observable.destroy();\n\t\tthis._onboardRenderer.destroy();\n\t\tthis._options = null;\n\t\tthis._model.destroy();\n\t\tthis._onboardKeyHandler.destroy();\n\n\t\treturn this;\n\t}\t\n\n\t/**\n\t * Render logic of this widget\n\t * @param {String|DOMElement} selector selector or DOM element \n\t * @returns {Onboard} returns this widget instance\n\t */\n\trender(selector) {\n\t\tthis._onboardRenderer.render(selector);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Starts onboarding\n\t * @returns {Onboard} returns this widget instance \n\t */\n\tstart() {\n\t\tthis._model.start();\n\t\treturn this;\n\t}\n\n\n\t/**\n\t * Stops\n\t * @returns {Onboard} returns this widget instance \n\t */\n\tstop() {\n\t\tthis._model.stop();\n\t\treturn this;\n\t}\t\n}\n\nexport default Onboard;\n","/**\r\n * @class\r\n * Observable class, handles binding and firing events\r\n * @param {Array} events list of events for this observable\r\n */\r\nexport default class Observable {\r\n    /**\r\n     * @param {Array} events\r\n     */\r\n    constructor(events = []) {\r\n        // create a map of handlers where each event has an array of bound handlers\r\n        this._handlers = events.reduce((acc, cur)=>{\r\n            acc[cur] = [];\r\n            return acc;\r\n        },{});\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Bind event\r\n\t * @param {String} event event name\r\n\t * @param {Function} handler event handler\r\n\t */\r\n    on(event, handler) {\r\n        if (!(event in this._handlers)) throw \"No such event: \" + event;\r\n\t\tthis._handlers[event].push(handler);\r\n\t\treturn {\r\n\t\t\tdestroy:()=>{\r\n\t\t\t\tthis.off(event, handler)\r\n\t\t\t}\r\n\t\t};\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Unbind event\r\n\t * @param {String} event event name\r\n\t * @param {Function} [handler] event handler, optional\r\n\t */\r\n    off(event, handler) {\r\n        if (!(event in this._handlers)) throw \"No such event: \" + event;\r\n\t\tif (!handler) {\r\n\t\t\tthis._handlers[event] = [];\r\n\t\t} else {\r\n\t\t\tvar handlers = this._handlers[event];\r\n\t\t\tvar index = handlers.indexOf(handler);\r\n\t\t\tif (index != -1){\r\n\t\t\t\thandlers.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Fire widget event\r\n\t * @param {String} event event name\r\n\t * @param {*} ...args event arguments\r\n\t */\r\n\tfire(event, ...args) {\r\n\t\tif (!(event in this._handlers)) throw \"No such event: \" + event;\r\n\t\tvar handlers = this._handlers[event];\r\n\t\tfor (var i = 0; i < handlers.length; i++) {\r\n\t\t\thandlers[i].apply(this, args);\r\n\t\t}\r\n\t\treturn this;\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys this observable, removes events and so on \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._handlers = null;\r\n\t\treturn this;\r\n    }\r\n\t\r\n}","/**\r\n * @public\r\n * Default fill color\r\n */\r\nexport const FILL_COLOR = \"#343A3D\";\r\n\r\n/**\r\n * @public\r\n * Default fill opacity\r\n */\r\nexport const FILL_OPACITY = 0.5;\r\n\r\n/**\r\n * @public\r\n * Default animation duration\r\n */\r\nexport const ANIMATION_DURATION = 200;\r\n\r\n/**\r\n * @public\r\n * Next text\r\n */\r\nexport const NEXT_TEXT = \"Next\";\r\n\r\n/**\r\n * @public\r\n * Window class name\r\n */\r\nexport const WINDOW_CLASS_NAME = \"\";\r\n\r\n/**\r\n * @public\r\n * Prev button class name\r\n */\r\nexport const PREV_BUTTON_CLASS_NAME = \"onboard-window-prev-btn\";\r\n\r\n/**\r\n * @public\r\n * Next button class name\r\n */\r\nexport const NEXT_BUTTON_CLASS_NAME = \"onboard-window-next-btn\";\r\n\r\n/**\r\n * @public\r\n * Next button class name\r\n */\r\nexport const WINDOW_TITLE_CLASS_NAME = \"onboard-window-title\";\r\n\r\n/**\r\n * @public\r\n * Next button class name\r\n */\r\nexport const WINDOW_BODY_CLASS_NAME = \"onboard-window-body\";\r\n\r\n\r\n\r\n/**\r\n * @public\r\n * Default window width\r\n */\r\nexport const WINDOW_WIDTH = 400;\r\n\r\n/**\r\n * Default debounce time when window is resized\r\n */\r\nexport const WINDOW_RESIZE_DEBOUNCE_TIME = 50;\r\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\nimport debounce from \"lodash-es/debounce.js\";\r\nimport * as Defaults from \"./OnboardDefaults\";\r\n\r\n/**\r\n * @class\r\n * Onboard class\r\n * @param {Object} options\r\n */\r\nexport default class MaskRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Mask Element\r\n\t\t */\r\n\t\tthis._svgEl = null;\t\t\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Step elements\r\n\t\t */\r\n\t\tthis._stepElements = [];\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._renderMask();\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_getViewSize(){\r\n\t\treturn {\r\n\t\t\twidth: Math.max(document.documentElement.offsetWidth, document.documentElement.clientWidth),\r\n\t\t\theight: Math.max(document.documentElement.offsetHeight, document.documentElement.clientHeight)\r\n\t\t}\r\n\t}\r\n\r\n\t_renderMask(){\r\n\t\tvar size = this._getViewSize();\r\n\r\n\t\t// render SVG\r\n\t\tthis._svgEl = this._containerEl.append(\"svg\")\r\n\t\t\t.attr(\"class\", style[\"svg\"])\r\n\t\t\t.attr(\"width\", size.width)\r\n\t\t\t.attr(\"height\", size.height)\r\n\r\n\t\t// defs el\r\n\t\tthis._defsEl = this._svgEl.append(\"defs\");\r\n\r\n\t\tthis._maskEl = this._defsEl.append(\"mask\")\r\n\t\t\t.attr(\"class\", style[\"mask\"])\r\n\t\t\t.attr(\"id\", \"onboarding-mask\")\r\n\t\t\t.attr(\"width\", \"100%\")\r\n\t\t\t.attr(\"height\", \"100%\")\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"y\", 0)\r\n\r\n\t\tthis._maskBg = this._maskEl.append(\"rect\")\r\n\t\t\t.attr(\"class\", style[\"bg\"])\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"y\", 0)\r\n\t\t\t.attr(\"width\", \"100%\")\r\n\t\t\t.attr(\"height\", \"100%\")\r\n\t\t\t.attr(\"fill\", \"white\")\r\n\r\n\t\tthis._bgEl = this._svgEl.append(\"rect\")\r\n\t\t\t.attr(\"class\", style[\"bg\"])\r\n\t\t\t.attr(\"width\", \"100%\")\r\n\t\t\t.attr(\"height\", \"100%\")\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"y\", 0)\r\n\t\t\t.attr(\"mask\", \"url(#onboarding-mask)\")\r\n\t\t\t.attr(\"fill\", this._options.fillColor)\r\n\t\t\t.attr(\"fill-opacity\", this._options.fillOpacity)\r\n\r\n\t\tthis._onWindowResize = debounce(() => {\r\n\t\t\tvar size = this._getViewSize();\r\n\t\t\tthis._svgEl.attr(\"width\", size.width);\r\n\t\t\tthis._svgEl.attr(\"height\", size.height);\r\n\r\n\t\t\tif (this._step){\r\n\t\t\t\tthis._onStep(this._step);\r\n\t\t\t}\r\n\t\t}, Defaults.WINDOW_RESIZE_DEBOUNCE_TIME);\r\n\r\n\t\twindow.addEventListener(\"resize\", this._onWindowResize);\r\n\t}\r\n\r\n\t_clearSteps(){\r\n\t\tthis._stepElements.forEach(element=>element.remove());\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_renderStep(step){\r\n\t\tif (!step.selector) return;\r\n\t\tvar selection = d3.selectAll(step.selector);\r\n\t\t\r\n\t\tselection.nodes().forEach(element=>{\r\n\t\t\tthis._stepElements.push(this._renderStepElement(element, step));\r\n\t\t});\r\n\t}\r\n\r\n\t_renderStepElement(element, step){\r\n\t\tvar shape = step.shape || {\r\n\t\t\ttype:\"rectangle\"\r\n\t\t};\r\n\r\n\t\tif (element.tagName == \"path\"){\r\n\t\t\treturn this._renderPathMask(element, step);\r\n\t\t} else if (shape.type == \"circle\"){\r\n\t\t\treturn this._renderCircleMask(element, step);\r\n\t\t} else {\r\n\t\t\treturn this._renderRectangleMask(element, step);\r\n\t\t}\r\n\t}\r\n\t_getBorderRadius(el){\r\n\t\treturn parseFloat(window.getComputedStyle(el, null).getPropertyValue(\"border-top-left-radius\"));\r\n\t}\r\n\r\n\t_getBox(element){\r\n\t\tvar box = element.getBoundingClientRect();\r\n\t\treturn {\r\n\t\t\ttop:box.top +  + document.body.scrollTop,\r\n\t\t\tleft:box.left +  + document.body.scrollLeft,\r\n\t\t\twidth: box.width,\r\n\t\t\theight:box.height\r\n\t\t}\r\n\t}\r\n\r\n\t_renderRectangleMask(element, step){\r\n\t\tvar box = this._getBox(element);\t\t\r\n\t\tvar borderRadius = this._getBorderRadius(element);\r\n\t\tvar shape = step.shape || {};\r\n\t\tvar offset = shape.offset || [0,0];\r\n\r\n\t\tif (step.shape && step.shape.radius){\r\n\t\t\tborderRadius = step.shape.radius;\r\n\t\t}\r\n\r\n\t\tvar stepEl = this._maskEl\r\n\t\t\t.append(\"rect\")\r\n\t\t\t\t.attr(\"fill\", \"black\")\r\n\t\t\t\t.attr(\"x\", box.left + offset[0])\r\n\t\t\t\t.attr(\"y\", box.top + offset[1])\r\n\t\t\t\t.attr(\"rx\", borderRadius)\r\n\t\t\t\t.attr(\"ry\", borderRadius)\r\n\t\t\t\t.attr(\"width\", shape.width || box.width)\r\n\t\t\t\t.attr(\"fill-opacity\", 1)\r\n\t\t\t\t.attr(\"stroke-opacity\", 1)\r\n\t\t\t\t.attr(\"stroke-width\", shape.strokeWidth || 0)\r\n\t\t\t\t.attr(\"stroke\", \"black\")\r\n\t\t\t\t.attr(\"height\", shape.height || box.height)\r\n\r\n\t\treturn stepEl;\r\n\t}\r\n\r\n\t_renderCircleMask(element, step){\r\n\t\tvar box = this._getBox(element);\r\n\t\tvar cx = box.left + box.width / 2;\r\n\t\tvar cy = box.top + box.height / 2;\r\n\t\tvar shape = step.shape || {};\r\n\t\tvar offset = shape.offset || [0,0];\r\n\r\n\t\tvar stepEl = this._maskEl\r\n\t\t\t.append(\"circle\")\r\n\t\t\t.attr(\"r\", step.shape.radius || box.width / 2)\r\n\t\t\t.attr(\"fill\", \"black\")\r\n\t\t\t.attr(\"fill-opacity\", 1)\r\n\t\t\t.attr(\"stroke-width\", shape.strokeWidth || 0)\r\n\t\t\t.attr(\"stroke-opacity\", 1)\r\n\t\t\t.attr(\"stroke\", \"black\")\r\n\t\t\t.attr(\"cx\", cx + offset[0])\r\n\t\t\t.attr(\"cy\", cy + offset[1])\r\n\r\n\t\treturn stepEl;\r\n\t}\r\n\r\n\t_renderPathMask(element, step){\r\n\t\tvar svgElement = element.parentElement; \r\n\t\twhile (svgElement && svgElement.tagName != \"svg\"){\r\n\t\t\tsvgElement = svgElement.parentElement;\r\n\t\t}\r\n\r\n\t\tvar box = this._getBox(svgElement);\r\n\r\n\t\tvar stepEl = this._maskEl\r\n\t\t\t.append(\"g\")\r\n\t\t\t.attr(\"transform\", \"translate(\"+box.left+\", \"+box.top+\")\")\r\n\t\t\t.append(\"path\")\r\n\t\t\t\t.attr(\"fill\", \"black\")\r\n\t\t\t\t.attr(\"fill-opacity\", 1)\r\n\t\t\t\t.attr(\"stroke-width\", step.shape?step.shape.strokeWidth||0:0)\r\n\t\t\t\t.attr(\"stroke\", \"black\")\r\n\t\t\t\t.attr(\"d\", d3.select(element).attr(\"d\"))\r\n\t\t\t\r\n\t\t\r\n\t\treturn stepEl;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStart() {\r\n\t\tthis._svgEl.style(\"display\", \"block\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tthis._step = step;\r\n\t\tthis._clearSteps();\r\n\t\tthis._renderStep(step);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStop() {\r\n\t\tthis._step = null;\r\n\t\tthis._svgEl.style(\"display\", \"none\");\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tif (this._rendered){\r\n\t\t\twindow.removeEventListener(\"resize\", this._onWindowResize);\r\n\t\t}\r\n\r\n\t\tthis._clearSteps();\r\n\t\tthis._step = null;\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStepBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\treturn this;\r\n\t}\r\n}","/**\r\n * @class\r\n */\r\nexport default class PositionResolver {\r\n\t/**\r\n\t * @public\r\n\t * @returns {Object}\r\n\t */\r\n\tgetWindowPosition(targetBox, windowBox, arrowBox) {\r\n\t\tvar position = this._getTargetPosition(targetBox, arrowBox);\r\n\t\tvar left = this._getLeftWindowPosition(position, targetBox, arrowBox, windowBox);\r\n\t\tvar top = this._getTopWindowPosition(position, targetBox, arrowBox, windowBox);\r\n\r\n\t\treturn {\r\n\t\t\tposition:position,\r\n\t\t\tleft:left, \r\n\t\t\ttop:top\r\n\t\t}\r\n\t} \t\r\n\r\n\t_getLeftWindowPosition(position, targetBox, arrowBox, windowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.left + targetBox.width/2 + arrowBox.width,\r\n\t\t\t\"right-top\":targetBox.left - arrowBox.width - windowBox.width,\r\n\t\t\t\"left-bottom\":targetBox.left + targetBox.width/2 + arrowBox.width,\r\n\t\t\t\"right-bottom\":targetBox.left - windowBox.width - arrowBox.width,\r\n\t\t}[position];\r\n\t}\r\n\r\n\t_getTopWindowPosition(position, targetBox, arrowBox, windowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.top + targetBox.height + arrowBox.height,\r\n\t\t\t\"right-top\":targetBox.top + targetBox.height/2 + arrowBox.height,\r\n\t\t\t\"left-bottom\":targetBox.top - windowBox.height - arrowBox.height,\r\n\t\t\t\"right-bottom\":targetBox.top - windowBox.height + arrowBox.height,\r\n\t\t}[position];\r\n\t}\t\r\n\r\n\tgetArrowPosition(targetBox, arrowBox) {\r\n\t\tvar position = this._getTargetPosition(targetBox, arrowBox);\r\n\t\tvar left = this._getLeftArrowPosition(position, targetBox, arrowBox);\r\n\t\tvar top = this._getTopArrowPosition(position, targetBox, arrowBox);\r\n\r\n\t\treturn {\r\n\t\t\tposition:position,\r\n\t\t\tleft:left, \r\n\t\t\ttop:top\r\n\t\t}\r\n\t}\r\n\r\n\t_getLeftArrowPosition(position, targetBox, arrowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.left + targetBox.width/2,\r\n\t\t\t\"right-top\":targetBox.left - arrowBox.width,\r\n\t\t\t\"left-bottom\":targetBox.left + targetBox.width/2 ,\r\n\t\t\t\"right-bottom\":targetBox.left - arrowBox.width,\r\n\t\t}[position];\r\n\t}\r\n\r\n\t_getTopArrowPosition(position, targetBox, arrowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.top + targetBox.height,\r\n\t\t\t\"right-top\":targetBox.top + targetBox.height/2,\r\n\t\t\t\"left-bottom\":targetBox.top - arrowBox.height,\r\n\t\t\t\"right-bottom\":targetBox.top + arrowBox.height,\r\n\t\t}[position];\r\n\t}\r\n\r\n\t_getTargetPosition(targetBox){\r\n\t\tvar point = [targetBox.left, targetBox.top];\r\n\t\tvar crossPoint = [document.documentElement.clientWidth * 0.5,document.documentElement.clientHeight*0.5];\r\n\t\tvar position = [\"left\", \"top\"];\r\n\r\n\t\t[\"right\", \"bottom\"].forEach((s, i)=>{\r\n\t\t\tif (point[i]>crossPoint[i]){\r\n\t\t\t\tposition[i] = s;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn position.join(\"-\");\r\n\t}\r\n}","\t/**\r\n\t * @private\r\n     * @param {Element}\r\n\t * @returns {Object} box\r\n     * @returns {Object} box.width\r\n     * @returns {Object} box.height\r\n     * @returns {Object} box.top\r\n     * @returns {Object} box.left\r\n     * @returns {Object} box.right\r\n     * @returns {Object} box.bottom\r\n\t */\r\n\texport const getBox = (element) => {\r\n\t\tvar box = element.getBoundingClientRect();\r\n\r\n\t\treturn {\r\n\t\t\ttop:box.top + document.body.scrollTop,\r\n\t\t\tleft:box.left + document.body.scrollLeft,\r\n\t\t\tright:box.left + document.body.scrollTop + box.width,\r\n\t\t\tbottom:box.top + document.body.scrollTop + box.height,\r\n\t\t\twidth: box.width,\r\n\t\t\theight:box.height\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * @param {Array<Element>}\r\n\t * @returns {Object} box\r\n     * @returns {Object} box.width\r\n     * @returns {Object} box.height\r\n     * @returns {Object} box.top\r\n     * @returns {Object} box.left\r\n     * @returns {Object} box.right\r\n     * @returns {Object} box.bottom\r\n\t */\r\n\texport const getMultiBox = (nodes) => {\r\n\t\tvar boxes = nodes.map(node=>getBox(node));\r\n\r\n\t\tvar box = {\r\n\t\t\ttop:Math.min.apply(Math, boxes.map(box=>box.top)),\r\n\t\t\tleft:Math.min.apply(Math, boxes.map(box=>box.left)),\r\n\t\t\tright:Math.max.apply(Math, boxes.map(box=>box.right)),\r\n\t\t\tbottom:Math.max.apply(Math, boxes.map(box=>box.bottom))\r\n\t\t}\r\n\r\n\t\tbox.width = box.right - box.left;\r\n\t\tbox.height = box.bottom - box.top;\r\n\r\n\t\treturn box; \r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n     * @param {D3Selection}\r\n\t * @returns {Object} box\r\n     * @returns {Object} box.width\r\n     * @returns {Object} box.height\r\n     * @returns {Object} box.top\r\n     * @returns {Object} box.left\r\n     * @returns {Object} box.right\r\n     * @returns {Object} box.bottom\r\n\t */\r\n\texport const getTargetBox = (selection) => {\r\n\t\tvar nodes = selection.nodes();\r\n\r\n\t\tif (nodes[0] && nodes[0].tagName == \"path\"){\r\n\t\t\treturn getMultiBox(nodes);\r\n\t\t} else {\r\n\t\t\treturn getBox(nodes[0]);\r\n\t\t}\r\n\t}","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\nimport PositionResolver from \"./PositionResolver\";\r\nimport * as BoxUtils from \"./utils/BoxUtils\";\r\nimport * as Defaults from \"./OnboardDefaults\";\r\nimport debounce from \"lodash-es/debounce.js\";\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class ArrowRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\t\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\tthis._model = model;\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\t\tthis._positionResolver = new PositionResolver();\r\n\r\n\t\tthis._onWindowResize = debounce(() => {\r\n\t\t\tif (this._step){\r\n\t\t\t\tthis._onStep(this._step);\r\n\t\t\t}\r\n\t\t}, Defaults.WINDOW_RESIZE_DEBOUNCE_TIME);\r\n\r\n\t\twindow.addEventListener(\"resize\", this._onWindowResize);\t\t\r\n\t}\r\n\r\n\tgetArrowBox(){\r\n\t\treturn this._arrowBox;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._renderArrow();\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_renderArrow(){\r\n\t\tthis._arrowEl = this._containerEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"arrow\"]+\" \"+style[\"arrow-bottom-right\"])\r\n\r\n\t\tthis._arrowBox = BoxUtils.getBox(this._arrowEl.node());\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStart() {\r\n\t\tthis._arrowEl.style(\"visibility\", \"visible\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @private\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tif (!step.selector){\r\n\t\t\tthis._arrowEl.style(\"visibility\", \"hidden\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis._arrowEl.style(\"visibility\", \"visible\");\r\n\t\t}\r\n\r\n\t\tthis._step = step;\r\n\r\n\t\tvar selection = d3.selectAll(step.selector);\r\n\t\tvar targetBox = BoxUtils.getTargetBox(selection);\r\n\t\tvar arrowPosition = this._positionResolver.getArrowPosition(targetBox, this._arrowBox);\r\n\r\n\t\tthis._arrowEl.transition().duration(0 /*this._options.animationDuration*/)\r\n\t\t\t.style(\"top\", arrowPosition.top+\"px\")\r\n\t\t\t.style(\"left\", arrowPosition.left+\"px\");\r\n\r\n\t\t// epxerimental fading when moving arrow\r\n\t\tthis._arrowEl\r\n\t\t\t.style(\"opacity\", 0)\r\n\t\t\t.transition(\"2\").duration(this._options.animationDuration)\r\n\t\t\t.style(\"opacity\", 1);\r\n\r\n\t\tthis._arrowEl.attr(\"class\", style[\"arrow\"]+\" \"+style[\"arrow-\"+arrowPosition.position]);\r\n\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @private\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStop() {\r\n\t\tthis._arrowEl.style(\"display\", \"none\");\r\n\t\tthis._step = null;\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStepBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\tthis._step = null;\r\n\t\twindow.removeEventListener(\"resize\", this._onWindowResize);\t\r\n\r\n\t\tif (this._arrowEl){\r\n\t\t\tthis._arrowEl.remove();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\n\r\n/**\r\n * @class\r\n * Onboard class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Model\r\n\t\t */\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._steps = model.getSteps().filter(step=>step.showProgress !== false);\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Number of steps \r\n\t\t */\r\n\t\tthis._numOfSteps = this._steps.length;\t\t\r\n\r\n\t\t// only show when number of steps is > than 1\r\n\t\tif (this._numOfSteps>1){\r\n\t\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector);\r\n\r\n\t\tthis._renderProgress();\r\n\t\tthis._renderSteps();\r\n\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_renderProgress(){\r\n\t\tthis._progressEl = this._containerEl.append(\"div\").classed(style[\"window-progress-ct\"], true);\r\n\t}\r\n\r\n\t_renderSteps(){\r\n\t\tthis._steps.slice(1).forEach(()=>{\r\n\t\t\tthis._progressEl.append(\"div\")\r\n\t\t\t\t.classed(style[\"window-progress-step\"], true);\r\n\t\t})\r\n\t}\t\r\n\r\n\t_resizeSteps(step){\r\n\t\tvar stepWidth = this._getStepWidth(step);\r\n\t\td3.selectAll(\".\"+style[\"window-progress-step\"])\r\n\t\t\t.transition()\r\n\t\t\t.duration(this._options.animationDuration)\r\n\t\t\t.style(\"width\", stepWidth + \"px\");\r\n\t}\r\n\r\n\t_getStepWidth(step){\r\n\t\treturn (step.windowWidth || this._options.windowWidth) / this._numOfSteps;\r\n\t}\r\n\r\n\t_getProgressWidth(index, step){\r\n\t\treturn (step.windowWidth || this._options.windowWidth) * (index + 1) / this._numOfSteps;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tif (step.showProgress === false) {\r\n\t\t\tthis._progressEl\r\n\t\t\t\t.transition()\r\n\t\t\t\t.duration(this._options.animationDuration)\r\n\t\t\t\t.style(\"width\", 0+\"px\");\r\n\t\t\r\n\t\t\treturn;\r\n\t\t} \r\n\r\n\t\tvar index = this._steps.indexOf(step);\r\n\t\tvar width = this._getProgressWidth(index, step);\r\n\t\tthis._progressEl\r\n\t\t\t.transition()\r\n\t\t\t.duration(this._options.animationDuration)\r\n\t\t\t.style(\"width\", width+\"px\");\r\n\r\n\t\tthis._resizeSteps(step);\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tif (this._rendered){\r\n\t\t\tthis._progressEl.remove();\r\n\t\t}\r\n\r\n\t\tif (this._onStepBinding){\r\n\t\t\tthis._onStepBinding.destroy();\r\n\t\t}\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n}","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\nimport PositionResolver from \"./PositionResolver\";\r\nimport ArrowRenderer from \"./ArrowRenderer\";\r\nimport ProgressRenderer from \"./ProgressRenderer\";\r\nimport * as Defaults from \"./OnboardDefaults\";\r\nimport * as BoxUtils from \"./utils/BoxUtils\";\r\nimport debounce from \"lodash-es/debounce.js\";\r\n\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class WindowRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\t\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\r\n\t\tthis._positionResolver = new PositionResolver();\r\n\t\tthis._arrowRenderer = new ArrowRenderer(options, model);\t\t\r\n\t\tthis._progressRenderer = new ProgressRenderer(options, model);\t\t\r\n\r\n\t\tthis._onWindowResize = debounce(() => {\r\n\t\t\tif (this._step){\r\n\t\t\t\tthis._onStep(this._step);\r\n\t\t\t}\r\n\t\t}, Defaults.WINDOW_RESIZE_DEBOUNCE_TIME);\r\n\r\n\t\twindow.addEventListener(\"resize\", this._onWindowResize);\t\t\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._renderWindow();\r\n\t\tthis._arrowRenderer.render(selector);\r\n\t\tthis._progressRenderer.render(this._windowEl.node());\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_renderWindow(){\r\n\t\tthis._windowEl = this._containerEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window\"] + \" \" + this._options.windowClassName)\r\n\t\t\t.style(\"width\", this._options.windowWidth + \"px\");\r\n\r\n\t\tthis._nextBtnEl = this._windowEl.append(\"div\")\r\n\t\t\t.on(\"click\", this._onNextClick.bind(this))\r\n\t\t\t.attr(\"class\", style[\"window-next-btn\"] + \" \" + Defaults.NEXT_BUTTON_CLASS_NAME);\r\n\r\n\t\tthis._nextBtnTextEl = this._nextBtnEl.append(\"span\")\r\n\t\t\t.attr(\"class\",style[\"window-next-btn-text\"])\r\n\t\t\t.html(this._options.nextText);\r\n\r\n\t\tthis._nextBtnEl.on(\"mouseover\", ()=>{\r\n\t\t\tthis._nextBtnEl.classed(style[\"window-next-btn-hover\"], true);\r\n\t\t});\r\n\r\n\t\tthis._nextBtnEl.on(\"mouseout\", ()=>{\r\n\t\t\tthis._nextBtnEl.classed(style[\"window-next-btn-hover\"], false);\r\n\t\t})\r\n\r\n\t\tthis._nextBtnIconEl = this._nextBtnEl.append(\"div\").attr(\"class\",style[\"window-btn-icon\"]+\" zmdi zmdi-long-arrow-right\");\r\n\r\n\t\tthis._prevBtnEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-prev-btn\"] + \" \" + Defaults.PREV_BUTTON_CLASS_NAME)\r\n\t\t\t.on(\"click\", this._onPrevClick.bind(this))\r\n\t\t\t.html(this._options.prevText)\r\n\r\n\t\tthis._prevBtnEl.append(\"div\").attr(\"class\",style[\"window-btn-icon\"]+\" zmdi zmdi-long-arrow-left\");\t\t\t\r\n\r\n\t\tthis._titleEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-title\"] + \" \" +Defaults.WINDOW_TITLE_CLASS_NAME)\r\n\r\n\t\tthis._bodyEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-body\"] + \" \" + Defaults.WINDOW_BODY_CLASS_NAME)\r\n\r\n\t\tthis._closeEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-close\"] + \" zmdi zmdi-close\")\r\n\t\t\t.on(\"click\", this._onCloseClick.bind(this))\r\n\t}\r\n\r\n\t_onCloseClick(){\r\n\t\tthis._model.stop();\r\n\t}\r\n\r\n\t_onNextClick(){\r\n\t\tthis._nextBtnEl.classed(style[\"window-next-btn-hover\"], false);\r\n\r\n\t\tif (this._model.hasNext()){\r\n\t\t\tthis._model.next();\r\n\t\t} else {\r\n\t\t\tthis._model.stop();\r\n\t\t}\r\n\t}\r\n\r\n\t_onPrevClick(){\r\n\t\tthis._model.prev();\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStart() {\r\n\t\tthis._windowEl.style(\"display\", \"block\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tthis._step = step;\r\n\r\n\t\tthis._titleEl.html(step.title);\r\n\t\tthis._bodyEl.html(step.text);\r\n\r\n\t\tthis._prevBtnEl.classed(style[\"window-button-has-prev\"], this._model.hasPrev());\r\n\t\tthis._nextBtnEl.classed(style[\"window-button-has-next\"], this._model.hasNext());\r\n\t\tthis._nextBtnTextEl.html(step.nextText || this._options.nextText)\r\n\t\tthis._windowEl.attr(\"class\", style[\"window\"] + \" \" + (step.windowClassName || this._options.windowClassName))\r\n\t\tthis._windowEl.style(\"width\", (step.windowWidth || this._options.windowWidth) + \"px\");\r\n\r\n\t\tif (!step.selector) {\r\n\t\t\tthis._windowEl.transition().duration(this._options.animationDuration)\r\n\t\t\t\t.style(\"left\", null)\r\n\t\t\t\t.style(\"top\", null);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar selection = d3.selectAll(step.selector);\r\n\r\n\t\tvar targetBox = BoxUtils.getTargetBox(selection);\r\n\t\tvar windowBox = BoxUtils.getBox(this._windowEl.node());\r\n\t\tvar windowPosition = this._positionResolver.getWindowPosition(targetBox, windowBox, this._arrowRenderer.getArrowBox());\r\n\r\n\t\tthis._windowEl.transition().duration(this._options.animationDuration)\r\n\t\t\t.style(\"left\", windowPosition.left+\"px\")\r\n\t\t\t.style(\"top\", windowPosition.top+\"px\");\r\n\r\n\t\tthis._windowEl.classed(style[\"window-\"+windowPosition.position], true);\r\n\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStop() {\r\n\t\tthis._windowEl.style(\"display\", \"none\");\r\n\t\tthis._step = null;\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStepBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\tthis._step = null;\r\n\r\n\t\tthis._progressRenderer.destroy();\r\n\t\tthis._arrowRenderer.destroy();\r\n\t\twindow.removeEventListener(\"resize\", this._onWindowResize);\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import Observable from \"./utils/Observable\";\r\nimport MaskRenderer from \"./MaskRenderer\";\r\nimport WindowRenderer from \"./WindowRenderer\";\r\nimport * as d3 from \"d3\";\r\n\r\n/**\r\n * @class\r\n * Onboard class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Model\r\n\t\t */\r\n\t\tthis._model = model;\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * observable handler\r\n\t\t */\r\n\t\tthis._observable = new Observable([\r\n\t\t\t\r\n\t\t]);\t\t\r\n\r\n\t\tthis._maskRenderer = new MaskRenderer(options, model);\r\n\t\tthis._windowRenderer = new WindowRenderer(options, model);\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._maskRenderer.render(selector);\r\n\t\tthis._windowRenderer.render(selector);\r\n\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Bind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} handler event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\ton(eventName, handler) {\r\n\t\tthis._observable.on(eventName, handler);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Unbind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} [handler] event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\toff(eventName, handler) {\r\n\t\tthis._observable.off(eventName, handler);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._observable.destroy();\t\r\n\r\n\t\tthis._maskRenderer.destroy();\r\n\t\tthis._windowRenderer.destroy();\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import Observable from \"./utils/Observable\";\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardModel {\r\n\tconstructor(options) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._steps = options.steps || [];\r\n\r\n\t\tthis._currentStep = null;\r\n\t\tthis._currentStepIndex = -1;\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * observable handler\r\n\t\t */\r\n\t\tthis._observable = new Observable([\r\n\t\t\t/**\r\n\t\t\t * @event start\r\n\t\t\t * @param {Object} step\r\n\t\t\t * @param {int} index\r\n\t\t\t */\r\n\t\t\t\"start\",\r\n\t\t\t/**\r\n\t\t\t * @event stop\r\n\t\t\t * @param {Object} step\r\n\t\t\t * @param {int} index\r\n\t\t\t */\r\n\t\t\t\"stop\",\r\n\t\t\t/**\r\n\t\t\t * @event step\r\n\t\t\t * @param {Object} step\r\n\t\t\t * @param {int} index\r\n\t\t\t */\r\n\t\t\t\"step\"\r\n\t\t]);\t\t\r\n\t}\r\n\r\n\tgetSteps(){\r\n\t\treturn this._steps;\r\n\t}\r\n\r\n\tstart(){\r\n\t\tthis._currentStepIndex = 0;\r\n\t\tthis._currentStep = this._steps[this._currentStepIndex];\r\n\t\tthis._observable.fire(\"start\", this._currentStep, this._currentStepIndex);\r\n\t\tthis._observable.fire(\"step\", this._currentStep, this._currentStepIndex);\r\n\t}\r\n\r\n\tstop(){\r\n\t\tthis._observable.fire(\"stop\", this._currentStep, this._currentStepIndex);\r\n\t\tthis._currentStep = null;\r\n\t\tthis._currentStepIndex = -1;\r\n\t}\t\r\n\r\n\tnext(){\r\n\t\tif (this.hasNext()){\r\n\t\t\tthis._currentStep = this._steps[++this._currentStepIndex];\r\n\t\t\tthis._observable.fire(\"step\", this._currentStep, this._currentStepIndex);\r\n\t\t}\r\n\t}\r\n\r\n\tprev(){\r\n\t\tif (this.hasPrev()){\r\n\t\t\tthis._currentStep = this._steps[--this._currentStepIndex];\r\n\t\t\tthis._observable.fire(\"step\", this._currentStep, this._currentStepIndex);\r\n\t\t}\r\n\t}\r\n\r\n\thasNext(){\r\n\t\treturn this._steps.length > this._currentStepIndex +1;\r\n\t}\r\n\r\n\thasPrev(){\r\n\t\treturn this._currentStepIndex > 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Bind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} handler event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\ton(eventName, handler) {\r\n\t\tthis._observable.on(eventName, handler);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Unbind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} [handler] event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\toff(eventName, handler) {\r\n\t\tthis._observable.off(eventName, handler);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._observable.destroy();\r\n\t\tthis._currentStep = null;\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import * as d3 from \"d3\";\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardKeyHandler {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {OnboarKeyHandler} \r\n\t */\r\n\t_onStart() {\r\n\t\td3.select(document).on(\"keydown.onboard\", this._onKeyDown.bind(this));\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {OnboarKeyHandler} \r\n\t */\r\n\t_onKeyDown(){\r\n\t\tif(d3.event.key == \"ArrowLeft\" || d3.event.key == \"Backspace\"){\r\n\t\t\tthis._model.hasPrev()?this._model.prev():this._model.stop();\r\n\t\t} else if (d3.event.key == \"ArrowRight\" || d3.event.key == \"Enter\"){\r\n\t\t\tthis._model.hasNext()?this._model.next():this._model.stop();\r\n\t\t} else if (d3.event.key == \"Escape\"){\r\n\t\t\tthis._model.stop();\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\td3.event.preventDefault();\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {OnboarKeyHandler} \r\n\t */\r\n\t_onStop() {\r\n\t\td3.select(document).on(\"keydown.onboard\", null);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._onStop();\r\n\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\treturn this;\r\n\t}\r\n}"],"names":["isObject","value","type","getRawTag","isOwn","hasOwnProperty","call","symToStringTag","tag","undefined","unmasked","e","result","nativeObjectToString","objectToString","baseGetTag","undefinedTag","nullTag","Object","isObjectLike","isSymbol","symbolTag","toNumber","NAN","other","valueOf","replace","reTrim","isBinary","reIsBinary","test","reIsOctal","freeParseInt","slice","reIsBadHex","debounce","func","wait","options","invokeFunc","time","args","lastArgs","thisArg","lastThis","apply","leadingEdge","setTimeout","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","lastInvokeTime","maxing","nativeMin","maxWait","shouldInvoke","now","trailingEdge","trailing","cancel","timerId","flush","debounced","isInvoking","arguments","this","TypeError","FUNC_ERROR_TEXT","nativeMax","getOptionValue","optionValue","defaultOptionValue","Observable","events","_handlers","reduce","acc","cur","event","handler","push","off","handlers","index","indexOf","splice","i","length","FILL_COLOR","FILL_OPACITY","ANIMATION_DURATION","NEXT_TEXT","WINDOW_CLASS_NAME","WINDOW_WIDTH","WINDOW_RESIZE_DEBOUNCE_TIME","freeGlobal","global","freeSelf","self","root","Function","Date","Symbol","objectProto","prototype","toString","toStringTag","parseInt","Math","max","min","MaskRenderer","model","_options","_containerEl","_svgEl","_stepElements","_rendered","_model","_onStartBinding","on","_onStart","bind","_onStepBinding","_onStep","_onStopBinding","_onStop","selector","d3","document","body","_renderMask","documentElement","offsetWidth","clientWidth","offsetHeight","clientHeight","size","_getViewSize","append","attr","style","width","height","_defsEl","_maskEl","_maskBg","_bgEl","fillColor","fillOpacity","_onWindowResize","_this","_step","Defaults","addEventListener","forEach","element","remove","step","nodes","_this2","_renderStepElement","shape","tagName","_renderPathMask","_renderCircleMask","_renderRectangleMask","el","parseFloat","window","getComputedStyle","getPropertyValue","box","getBoundingClientRect","top","scrollTop","left","scrollLeft","_getBox","borderRadius","_getBorderRadius","offset","radius","strokeWidth","cx","cy","svgElement","parentElement","_clearSteps","_renderStep","removeEventListener","destroy","PositionResolver","targetBox","windowBox","arrowBox","position","_getTargetPosition","_getLeftWindowPosition","_getTopWindowPosition","_getLeftArrowPosition","_getTopArrowPosition","point","crossPoint","s","join","getBox","getMultiBox","boxes","map","node","right","bottom","getTargetBox","selection","ArrowRenderer","_positionResolver","_arrowBox","_renderArrow","_arrowEl","BoxUtils","arrowPosition","getArrowPosition","transition","duration","animationDuration","OnboardRenderer","_steps","getSteps","filter","showProgress","_numOfSteps","_renderProgress","_renderSteps","_progressEl","classed","stepWidth","_getStepWidth","windowWidth","_getProgressWidth","_resizeSteps","WindowRenderer","_arrowRenderer","_progressRenderer","ProgressRenderer","_renderWindow","render","_windowEl","windowClassName","_nextBtnEl","_onNextClick","_nextBtnTextEl","html","nextText","_nextBtnIconEl","_prevBtnEl","_onPrevClick","prevText","_titleEl","_bodyEl","_closeEl","_onCloseClick","stop","hasNext","next","prev","title","text","hasPrev","windowPosition","getWindowPosition","getArrowBox","_observable","_maskRenderer","_windowRenderer","eventName","OnboardModel","steps","_currentStep","_currentStepIndex","fire","OnboardKeyHandler","_onKeyDown","key","preventDefault","_onboardRenderer","_onboardKeyHandler","start"],"mappings":"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"}