{"version":3,"file":"can-onboard.min.js","sources":["../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/debounce.js","../src/Onboard.js","../src/utils/Observable.js","../src/OnboardDefaults.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/now.js","../node_modules/lodash-es/_Symbol.js","../src/MaskRenderer.js","../src/PositionResolver.js","../src/utils/BoxUtils.js","../src/ArrowRenderer.js","../src/ProgressRenderer.js","../src/WindowRenderer.js","../src/OnboardRenderer.js","../src/OnboardModel.js","../src/OnboardKeyHandler.js"],"sourcesContent":["/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import Observable from \"./utils/Observable\";\nimport * as Defaults from \"./OnboardDefaults\";\nimport OnboardRenderer from \"./OnboardRenderer\";\nimport OnboardModel from \"./OnboardModel\";\nimport OnboardKeyHandler from \"./OnboardKeyHandler\";\n\n/**\n * @private \n * @param {*} optionValue option value \n * @param {*} defaultOptionValue default option value \n * @returns option or default option value \n */\nfunction getOptionValue(optionValue, defaultOptionValue) {\n\treturn typeof optionValue == \"undefined\" ? defaultOptionValue : optionValue;\n}\n\n/**\n * @class\n * Main onboard class\n * @param {Object} options\n */\nclass Onboard {\n\tconstructor(options) {\n\t\t/**\n\t\t * @private\n\t\t * Options property exposing widget's options\n\t\t */\n\t\tthis._options = {};\n\n\t\t/**\n\t\t * @public\n\t\t * fill color\n\t\t */\n\t\tthis._options.fillColor = getOptionValue(options.fillColor, Defaults.FILL_COLOR);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * fill opacity\n\t\t */\n\t\tthis._options.fillOpacity = getOptionValue(options.fillOpacity, Defaults.FILL_OPACITY);\n\n\t\t/**\n\t\t * @public\n\t\t * Next text\n\t\t */\n\t\tthis._options.nextText = getOptionValue(options.nextText, Defaults.NEXT_TEXT);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * Understand text\n\t\t */\n\t\tthis._options.windowClassName = getOptionValue(options.windowClassName, Defaults.WINDOW_CLASS_NAME);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * animation duration\n\t\t */\n\t\tthis._options.animationDuration = getOptionValue(options.animationDuration, Defaults.ANIMATION_DURATION);\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * window width\n\t\t */\n\t\tthis._options.windowWidth = getOptionValue(options.windowWidth, Defaults.WINDOW_WIDTH);\t\t\t\t\n\n\t\t/**\n\t\t * @public\n\t\t * steps\n\t\t */\n\t\tthis._options.steps = options.steps;\n\n\t\t/**\n\t\t * @private\n\t\t * observable handler\n\t\t */\n\t\tthis._observable = new Observable([\n\t\t\t/**\n\t\t\t * @event start\n\t\t\t * @param {Object} step\n\t\t\t * @param {int} index\n\t\t\t */\n\t\t\t\"start\",\n\t\t\t/**\n\t\t\t * @event stop\n\t\t\t * @param {Object} step\n\t\t\t * @param {int} index\n\t\t\t */\n\t\t\t\"stop\",\n\t\t\t/**\n\t\t\t * @event step\n\t\t\t * @param {Object} step\n\t\t\t * @param {int} index\n\t\t\t */\n\t\t\t\"step\"\n\t\t]);\n\n\t\tthis._model = new OnboardModel(this._options);\n\n\t\tthis._model.on(\"start\", (step, index)=>{\n\t\t\tthis._observable.fire(\"start\", step, index)\n\t\t});\n\n\t\tthis._model.on(\"stop\", (step, index)=>{\n\t\t\tthis._observable.fire(\"stop\", step, index)\n\t\t});\n\n\t\tthis._model.on(\"step\", (step, index)=>{\n\t\t\tthis._observable.fire(\"step\", step, index)\n\t\t});\n\n\t\t/**\n\t\t * @private\n\t\t * OnboardRenderer\n\t\t */\n\t\tthis._onboardRenderer = new OnboardRenderer(this._options, this._model);\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tthis._onboardKeyHandler = new OnboardKeyHandler(this._options, this._model);\t\t\n\n\t\tthis.render();\n\t}\n\n\t/**\n\t * Bind widget event\n\t * @param {String} event event name\n\t * @param {Function} handler event handler\n\t * @returns {Onboard} returns this widget instance\n\t */\n\ton(eventName, handler) {\n\t\tthis._observable.on(eventName, handler);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Unbind widget event\n\t * @param {String} event event name\n\t * @param {Function} [handler] event handler\n\t * @returns {Onboard} returns this widget instance\n\t */\n\toff(eventName, handler) {\n\t\tthis._observable.off(eventName, handler);\n\t\treturn this;\n\t}\t\n\n\t/**\n\t * Destroys widget\n\t * @returns {Onboard} returns this widget instance\n\t */\n\tdestroy() {\n\t\tthis._observable.destroy();\n\t\tthis._onboardRenderer.destroy();\n\t\tthis._options = null;\n\t\tthis._model.destroy();\n\t\tthis._onboardKeyHandler.destroy();\n\n\t\treturn this;\n\t}\t\n\n\t/**\n\t * Render logic of this widget\n\t * @param {String|DOMElement} selector selector or DOM element \n\t * @returns {Onboard} returns this widget instance\n\t */\n\trender(selector) {\n\t\tthis._onboardRenderer.render(selector);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Starts onboarding\n\t * @returns {Onboard} returns this widget instance \n\t */\n\tstart() {\n\t\tthis._model.start();\n\t\treturn this;\n\t}\n\n\n\t/**\n\t * Stops\n\t * @returns {Onboard} returns this widget instance \n\t */\n\tstop() {\n\t\tthis._model.stop();\n\t\treturn this;\n\t}\t\n}\n\nexport default Onboard;\n","/**\r\n * @class\r\n * Observable class, handles binding and firing events\r\n * @param {Array} events list of events for this observable\r\n */\r\nexport default class Observable {\r\n    /**\r\n     * @param {Array} events\r\n     */\r\n    constructor(events = []) {\r\n        // create a map of handlers where each event has an array of bound handlers\r\n        this._handlers = events.reduce((acc, cur)=>{\r\n            acc[cur] = [];\r\n            return acc;\r\n        },{});\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Bind event\r\n\t * @param {String} event event name\r\n\t * @param {Function} handler event handler\r\n\t */\r\n    on(event, handler) {\r\n        if (!(event in this._handlers)) throw \"No such event: \" + event;\r\n\t\tthis._handlers[event].push(handler);\r\n\t\treturn {\r\n\t\t\tdestroy:()=>{\r\n\t\t\t\tthis.off(event, handler)\r\n\t\t\t}\r\n\t\t};\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Unbind event\r\n\t * @param {String} event event name\r\n\t * @param {Function} [handler] event handler, optional\r\n\t */\r\n    off(event, handler) {\r\n        if (!(event in this._handlers)) throw \"No such event: \" + event;\r\n\t\tif (!handler) {\r\n\t\t\tthis._handlers[event] = [];\r\n\t\t} else {\r\n\t\t\tvar handlers = this._handlers[event];\r\n\t\t\tvar index = handlers.indexOf(handler);\r\n\t\t\tif (index != -1){\r\n\t\t\t\thandlers.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Fire widget event\r\n\t * @param {String} event event name\r\n\t * @param {*} ...args event arguments\r\n\t */\r\n\tfire(event, ...args) {\r\n\t\tif (!(event in this._handlers)) throw \"No such event: \" + event;\r\n\t\tvar handlers = this._handlers[event];\r\n\t\tfor (var i = 0; i < handlers.length; i++) {\r\n\t\t\thandlers[i].apply(this, args);\r\n\t\t}\r\n\t\treturn this;\r\n    }\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys this observable, removes events and so on \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._handlers = null;\r\n\t\treturn this;\r\n    }\r\n\t\r\n}","/**\r\n * @public\r\n * Default fill color\r\n */\r\nexport const FILL_COLOR = \"#343A3D\";\r\n\r\n/**\r\n * @public\r\n * Default fill opacity\r\n */\r\nexport const FILL_OPACITY = 0.5;\r\n\r\n/**\r\n * @public\r\n * Default animation duration\r\n */\r\nexport const ANIMATION_DURATION = 200;\r\n\r\n/**\r\n * @public\r\n * Next text\r\n */\r\nexport const NEXT_TEXT = \"Next\";\r\n\r\n/**\r\n * @public\r\n * Window class name\r\n */\r\nexport const WINDOW_CLASS_NAME = \"\";\r\n\r\n/**\r\n * @public\r\n * Prev button class name\r\n */\r\nexport const PREV_BUTTON_CLASS_NAME = \"onboard-window-prev-btn\";\r\n\r\n/**\r\n * @public\r\n * Next button class name\r\n */\r\nexport const NEXT_BUTTON_CLASS_NAME = \"onboard-window-next-btn\";\r\n\r\n/**\r\n * @public\r\n * Next button class name\r\n */\r\nexport const WINDOW_TITLE_CLASS_NAME = \"onboard-window-title\";\r\n\r\n/**\r\n * @public\r\n * Next button class name\r\n */\r\nexport const WINDOW_BODY_CLASS_NAME = \"onboard-window-body\";\r\n\r\n\r\n\r\n/**\r\n * @public\r\n * Default window width\r\n */\r\nexport const WINDOW_WIDTH = 400;","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\nimport debounce from \"lodash-es/debounce.js\";\r\n\r\n/**\r\n * @class\r\n * Onboard class\r\n * @param {Object} options\r\n */\r\nexport default class MaskRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Mask Element\r\n\t\t */\r\n\t\tthis._svgEl = null;\t\t\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Step elements\r\n\t\t */\r\n\t\tthis._stepElements = [];\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._renderMask();\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_getViewSize(){\r\n\t\treturn {\r\n\t\t\twidth: Math.max(document.documentElement.offsetWidth, document.documentElement.clientWidth),\r\n\t\t\theight: Math.max(document.documentElement.offsetHeight, document.documentElement.clientHeight)\r\n\t\t}\r\n\t}\r\n\r\n\t_renderMask(){\r\n\t\tvar size = this._getViewSize();\r\n\r\n\t\t// render SVG\r\n\t\tthis._svgEl = this._containerEl.append(\"svg\")\r\n\t\t\t.attr(\"class\", style[\"svg\"])\r\n\t\t\t.attr(\"width\", size.width)\r\n\t\t\t.attr(\"height\", size.height)\r\n\r\n\t\t// defs el\r\n\t\tthis._defsEl = this._svgEl.append(\"defs\");\r\n\r\n\t\tthis._maskEl = this._defsEl.append(\"mask\")\r\n\t\t\t.attr(\"class\", style[\"mask\"])\r\n\t\t\t.attr(\"id\", \"onboarding-mask\")\r\n\t\t\t.attr(\"width\", \"100%\")\r\n\t\t\t.attr(\"height\", \"100%\")\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"y\", 0)\r\n\r\n\t\tthis._maskBg = this._maskEl.append(\"rect\")\r\n\t\t\t.attr(\"class\", style[\"bg\"])\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"y\", 0)\r\n\t\t\t.attr(\"width\", \"100%\")\r\n\t\t\t.attr(\"height\", \"100%\")\r\n\t\t\t.attr(\"fill\", \"white\")\r\n\r\n\t\tthis._bgEl = this._svgEl.append(\"rect\")\r\n\t\t\t.attr(\"class\", style[\"bg\"])\r\n\t\t\t.attr(\"width\", \"100%\")\r\n\t\t\t.attr(\"height\", \"100%\")\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"y\", 0)\r\n\t\t\t.attr(\"mask\", \"url(#onboarding-mask)\")\r\n\t\t\t.attr(\"fill\", this._options.fillColor)\r\n\t\t\t.attr(\"fill-opacity\", this._options.fillOpacity)\r\n\r\n\t\tthis._onWindowResize = debounce(() => {\r\n\t\t\tvar size = this._getViewSize();\r\n\t\t\tthis._svgEl.attr(\"width\", size.width);\r\n\t\t\tthis._svgEl.attr(\"height\", size.height);\r\n\r\n\t\t\tif (this._step){\r\n\t\t\t\tthis._clearSteps();\r\n\t\t\t\tthis._renderStep(this._step);\r\n\t\t\t}\r\n\t\t}, 200);\r\n\r\n\t\twindow.addEventListener(\"resize\", this._onWindowResize);\r\n\t}\r\n\r\n\t_clearSteps(){\r\n\t\tthis._stepElements.forEach(element=>element.remove());\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_renderStep(step){\r\n\t\tif (!step.selector) return;\r\n\t\tvar selection = d3.selectAll(step.selector);\r\n\t\t\r\n\t\tselection.nodes().forEach(element=>{\r\n\t\t\tthis._stepElements.push(this._renderStepElement(element, step));\r\n\t\t});\r\n\t}\r\n\r\n\t_renderStepElement(element, step){\r\n\t\tvar shape = step.shape || {\r\n\t\t\ttype:\"rectangle\"\r\n\t\t};\r\n\r\n\t\tif (element.tagName == \"path\"){\r\n\t\t\treturn this._renderPathMask(element, step);\r\n\t\t} else if (shape.type == \"circle\"){\r\n\t\t\treturn this._renderCircleMask(element, step);\r\n\t\t} else {\r\n\t\t\treturn this._renderRectangleMask(element, step);\r\n\t\t}\r\n\t}\r\n\t_getBorderRadius(el){\r\n\t\treturn parseFloat(window.getComputedStyle(el, null).getPropertyValue(\"border-top-left-radius\"));\r\n\t}\r\n\r\n\t_getBox(element){\r\n\t\tvar box = element.getBoundingClientRect();\r\n\t\treturn {\r\n\t\t\ttop:box.top +  + document.body.scrollTop,\r\n\t\t\tleft:box.left +  + document.body.scrollLeft,\r\n\t\t\twidth: box.width,\r\n\t\t\theight:box.height\r\n\t\t}\r\n\t}\r\n\r\n\t_renderRectangleMask(element, step){\r\n\t\tvar box = this._getBox(element);\t\t\r\n\t\tvar borderRadius = this._getBorderRadius(element);\r\n\t\tvar shape = step.shape || {};\r\n\t\tvar offset = shape.offset || [0,0];\r\n\r\n\t\tif (step.shape && step.shape.radius){\r\n\t\t\tborderRadius = step.shape.radius;\r\n\t\t}\r\n\r\n\t\tvar stepEl = this._maskEl\r\n\t\t\t.append(\"rect\")\r\n\t\t\t\t.attr(\"fill\", \"black\")\r\n\t\t\t\t.attr(\"x\", box.left + offset[0])\r\n\t\t\t\t.attr(\"y\", box.top + offset[1])\r\n\t\t\t\t.attr(\"rx\", borderRadius)\r\n\t\t\t\t.attr(\"ry\", borderRadius)\r\n\t\t\t\t.attr(\"width\", shape.width || box.width)\r\n\t\t\t\t.attr(\"fill-opacity\", 1)\r\n\t\t\t\t.attr(\"stroke-opacity\", 1)\r\n\t\t\t\t.attr(\"stroke-width\", shape.strokeWidth || 0)\r\n\t\t\t\t.attr(\"stroke\", \"black\")\r\n\t\t\t\t.attr(\"height\", shape.height || box.height)\r\n\r\n\t\treturn stepEl;\r\n\t}\r\n\r\n\t_renderCircleMask(element, step){\r\n\t\tvar box = this._getBox(element);\r\n\t\tvar cx = box.left + box.width / 2;\r\n\t\tvar cy = box.top + box.height / 2;\r\n\t\tvar shape = step.shape || {};\r\n\t\tvar offset = shape.offset || [0,0];\r\n\r\n\t\tvar stepEl = this._maskEl\r\n\t\t\t.append(\"circle\")\r\n\t\t\t.attr(\"r\", step.shape.radius || box.width / 2)\r\n\t\t\t.attr(\"fill\", \"black\")\r\n\t\t\t.attr(\"fill-opacity\", 1)\r\n\t\t\t.attr(\"stroke-width\", shape.strokeWidth || 0)\r\n\t\t\t.attr(\"stroke-opacity\", 1)\r\n\t\t\t.attr(\"stroke\", \"black\")\r\n\t\t\t.attr(\"cx\", cx + offset[0])\r\n\t\t\t.attr(\"cy\", cy + offset[1])\r\n\r\n\t\treturn stepEl;\r\n\t}\r\n\r\n\t_renderPathMask(element, step){\r\n\t\tvar svgElement = element.parentElement; \r\n\t\twhile (svgElement && svgElement.tagName != \"svg\"){\r\n\t\t\tsvgElement = svgElement.parentElement;\r\n\t\t}\r\n\r\n\t\tvar box = this._getBox(svgElement);\r\n\r\n\t\tvar stepEl = this._maskEl\r\n\t\t\t.append(\"g\")\r\n\t\t\t.attr(\"transform\", \"translate(\"+box.left+\", \"+box.top+\")\")\r\n\t\t\t.append(\"path\")\r\n\t\t\t\t.attr(\"fill\", \"black\")\r\n\t\t\t\t.attr(\"fill-opacity\", 1)\r\n\t\t\t\t.attr(\"stroke-width\", step.shape?step.shape.strokeWidth||0:0)\r\n\t\t\t\t.attr(\"stroke\", \"black\")\r\n\t\t\t\t.attr(\"d\", d3.select(element).attr(\"d\"))\r\n\t\t\t\r\n\t\t\r\n\t\treturn stepEl;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStart() {\r\n\t\tthis._svgEl.style(\"display\", \"block\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tthis._step = step;\r\n\t\tthis._clearSteps();\r\n\t\tthis._renderStep(step);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStop() {\r\n\t\tthis._step = null;\r\n\t\tthis._svgEl.style(\"display\", \"none\");\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tif (this._rendered){\r\n\t\t\twindow.removeEventListener(\"resize\", this._onWindowResize);\r\n\t\t}\r\n\r\n\t\tthis._clearSteps();\r\n\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStepBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\treturn this;\r\n\t}\r\n}","/**\r\n * @class\r\n */\r\nexport default class PositionResolver {\r\n\t/**\r\n\t * @public\r\n\t * @returns {Object}\r\n\t */\r\n\tgetWindowPosition(targetBox, windowBox, arrowBox) {\r\n\t\tvar position = this._getTargetPosition(targetBox, arrowBox);\r\n\t\tvar left = this._getLeftWindowPosition(position, targetBox, arrowBox, windowBox);\r\n\t\tvar top = this._getTopWindowPosition(position, targetBox, arrowBox, windowBox);\r\n\r\n\t\treturn {\r\n\t\t\tposition:position,\r\n\t\t\tleft:left, \r\n\t\t\ttop:top\r\n\t\t}\r\n\t} \t\r\n\r\n\t_getLeftWindowPosition(position, targetBox, arrowBox, windowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.left + targetBox.width/2 + arrowBox.width,\r\n\t\t\t\"right-top\":targetBox.left - arrowBox.width - windowBox.width,\r\n\t\t\t\"left-bottom\":targetBox.left + targetBox.width/2 + arrowBox.width,\r\n\t\t\t\"right-bottom\":targetBox.left - windowBox.width - arrowBox.width,\r\n\t\t}[position];\r\n\t}\r\n\r\n\t_getTopWindowPosition(position, targetBox, arrowBox, windowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.top + targetBox.height + arrowBox.height,\r\n\t\t\t\"right-top\":targetBox.top + targetBox.height/2 + arrowBox.height,\r\n\t\t\t\"left-bottom\":targetBox.top - windowBox.height - arrowBox.height,\r\n\t\t\t\"right-bottom\":targetBox.top - windowBox.height + arrowBox.height,\r\n\t\t}[position];\r\n\t}\t\r\n\r\n\tgetArrowPosition(targetBox, arrowBox) {\r\n\t\tvar position = this._getTargetPosition(targetBox, arrowBox);\r\n\t\tvar left = this._getLeftArrowPosition(position, targetBox, arrowBox);\r\n\t\tvar top = this._getTopArrowPosition(position, targetBox, arrowBox);\r\n\r\n\t\treturn {\r\n\t\t\tposition:position,\r\n\t\t\tleft:left, \r\n\t\t\ttop:top\r\n\t\t}\r\n\t}\r\n\r\n\t_getLeftArrowPosition(position, targetBox, arrowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.left + targetBox.width/2,\r\n\t\t\t\"right-top\":targetBox.left - arrowBox.width,\r\n\t\t\t\"left-bottom\":targetBox.left + targetBox.width/2 ,\r\n\t\t\t\"right-bottom\":targetBox.left - arrowBox.width,\r\n\t\t}[position];\r\n\t}\r\n\r\n\t_getTopArrowPosition(position, targetBox, arrowBox){\r\n\t\treturn {\r\n\t\t\t\"left-top\":targetBox.top + targetBox.height,\r\n\t\t\t\"right-top\":targetBox.top + targetBox.height/2,\r\n\t\t\t\"left-bottom\":targetBox.top - arrowBox.height,\r\n\t\t\t\"right-bottom\":targetBox.top + arrowBox.height,\r\n\t\t}[position];\r\n\t}\r\n\r\n\t_getTargetPosition(targetBox){\r\n\t\tvar point = [targetBox.left, targetBox.top];\r\n\t\tvar crossPoint = [document.documentElement.clientWidth * 0.5,document.documentElement.clientHeight*0.5];\r\n\t\tvar position = [\"left\", \"top\"];\r\n\r\n\t\t[\"right\", \"bottom\"].forEach((s, i)=>{\r\n\t\t\tif (point[i]>crossPoint[i]){\r\n\t\t\t\tposition[i] = s;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn position.join(\"-\");\r\n\t}\r\n}","\t/**\r\n\t * @private\r\n     * @param {Element}\r\n\t * @returns {Object} box\r\n     * @returns {Object} box.width\r\n     * @returns {Object} box.height\r\n     * @returns {Object} box.top\r\n     * @returns {Object} box.left\r\n     * @returns {Object} box.right\r\n     * @returns {Object} box.bottom\r\n\t */\r\n\texport const getBox = (element) => {\r\n\t\tvar box = element.getBoundingClientRect();\r\n\r\n\t\treturn {\r\n\t\t\ttop:box.top + document.body.scrollTop,\r\n\t\t\tleft:box.left + document.body.scrollLeft,\r\n\t\t\tright:box.left + document.body.scrollTop + box.width,\r\n\t\t\tbottom:box.top + document.body.scrollTop + box.height,\r\n\t\t\twidth: box.width,\r\n\t\t\theight:box.height\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * @param {Array<Element>}\r\n\t * @returns {Object} box\r\n     * @returns {Object} box.width\r\n     * @returns {Object} box.height\r\n     * @returns {Object} box.top\r\n     * @returns {Object} box.left\r\n     * @returns {Object} box.right\r\n     * @returns {Object} box.bottom\r\n\t */\r\n\texport const getMultiBox = (nodes) => {\r\n\t\tvar boxes = nodes.map(node=>getBox(node));\r\n\r\n\t\tvar box = {\r\n\t\t\ttop:Math.min.apply(Math, boxes.map(box=>box.top)),\r\n\t\t\tleft:Math.min.apply(Math, boxes.map(box=>box.left)),\r\n\t\t\tright:Math.max.apply(Math, boxes.map(box=>box.right)),\r\n\t\t\tbottom:Math.max.apply(Math, boxes.map(box=>box.bottom))\r\n\t\t}\r\n\r\n\t\tbox.width = box.right - box.left;\r\n\t\tbox.height = box.bottom - box.top;\r\n\r\n\t\treturn box; \r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n     * @param {D3Selection}\r\n\t * @returns {Object} box\r\n     * @returns {Object} box.width\r\n     * @returns {Object} box.height\r\n     * @returns {Object} box.top\r\n     * @returns {Object} box.left\r\n     * @returns {Object} box.right\r\n     * @returns {Object} box.bottom\r\n\t */\r\n\texport const getTargetBox = (selection) => {\r\n\t\tvar nodes = selection.nodes();\r\n\r\n\t\tif (nodes[0] && nodes[0].tagName == \"path\"){\r\n\t\t\treturn getMultiBox(nodes);\r\n\t\t} else {\r\n\t\t\treturn getBox(nodes[0]);\r\n\t\t}\r\n\t}","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\nimport PositionResolver from \"./PositionResolver\";\r\nimport * as BoxUtils from \"./utils/BoxUtils\";\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class ArrowRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\t\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\tthis._model = model;\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\t\tthis._positionResolver = new PositionResolver();\r\n\t}\r\n\r\n\tgetArrowBox(){\r\n\t\treturn this._arrowBox;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._renderArrow();\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_renderArrow(){\r\n\t\tthis._arrowEl = this._containerEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"arrow\"]+\" \"+style[\"arrow-bottom-right\"])\r\n\r\n\t\tthis._arrowBox = BoxUtils.getBox(this._arrowEl.node());\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStart() {\r\n\t\tthis._arrowEl.style(\"visibility\", \"visible\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @private\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tif (!step.selector){\r\n\t\t\tthis._arrowEl.style(\"visibility\", \"hidden\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis._arrowEl.style(\"visibility\", \"visible\");\r\n\t\t}\r\n\r\n\t\tvar selection = d3.selectAll(step.selector);\r\n\t\tvar targetBox = BoxUtils.getTargetBox(selection);\r\n\t\tvar arrowPosition = this._positionResolver.getArrowPosition(targetBox, this._arrowBox);\r\n\r\n\t\tthis._arrowEl.transition().duration(0 /*this._options.animationDuration*/)\r\n\t\t\t.style(\"top\", arrowPosition.top+\"px\")\r\n\t\t\t.style(\"left\", arrowPosition.left+\"px\");\r\n\r\n\t\t\t// epxerimental fading when moving arrow\r\n\t\t// this._arrowEl\r\n\t\t// \t.transition(\"2\")\r\n\t\t// \t.duration(this._options.animationDuration/4)\r\n\t\t// \t.style(\"opacity\", 0)\r\n\t\t// \t.transition().duration(this._options.animationDuration/2)\r\n\t\t// \t.style(\"opacity\", 0)\r\n\t\t// \t.transition().duration(this._options.animationDuration/4)\r\n\t\t// \t.style(\"opacity\", 1);\r\n\r\n\t\tthis._arrowEl.attr(\"class\", style[\"arrow\"]+\" \"+style[\"arrow-\"+arrowPosition.position]);\r\n\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @private\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStop() {\r\n\t\tthis._arrowEl.style(\"display\", \"none\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStepBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\tif (this._arrowEl){\r\n\t\t\tthis._arrowEl.remove();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\n\r\n/**\r\n * @class\r\n * Onboard class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Model\r\n\t\t */\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._steps = model.getSteps().filter(step=>step.showProgress !== false);\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Number of steps \r\n\t\t */\r\n\t\tthis._numOfSteps = this._steps.length;\t\t\r\n\r\n\t\t// only show when number of steps is > than 1\r\n\t\tif (this._numOfSteps>1){\r\n\t\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector);\r\n\r\n\t\tthis._renderProgress();\r\n\t\tthis._renderSteps();\r\n\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_renderProgress(){\r\n\t\tthis._progressEl = this._containerEl.append(\"div\").classed(style[\"window-progress-ct\"], true);\r\n\t}\r\n\r\n\t_renderSteps(){\r\n\t\tthis._steps.slice(1).forEach(()=>{\r\n\t\t\tthis._progressEl.append(\"div\")\r\n\t\t\t\t.classed(style[\"window-progress-step\"], true);\r\n\t\t})\r\n\t}\t\r\n\r\n\t_resizeSteps(step){\r\n\t\tvar stepWidth = this._getStepWidth(step);\r\n\t\td3.selectAll(\".\"+style[\"window-progress-step\"])\r\n\t\t\t.transition()\r\n\t\t\t.duration(this._options.animationDuration)\r\n\t\t\t.style(\"width\", stepWidth + \"px\");\r\n\t}\r\n\r\n\t_getStepWidth(step){\r\n\t\treturn (step.windowWidth || this._options.windowWidth) / this._numOfSteps;\r\n\t}\r\n\r\n\t_getProgressWidth(index, step){\r\n\t\treturn (step.windowWidth || this._options.windowWidth) * (index + 1) / this._numOfSteps;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tif (step.showProgress === false) {\r\n\t\t\tthis._progressEl\r\n\t\t\t\t.transition()\r\n\t\t\t\t.duration(this._options.animationDuration)\r\n\t\t\t\t.style(\"width\", 0+\"px\");\r\n\t\t\r\n\t\t\treturn;\r\n\t\t} \r\n\r\n\t\tvar index = this._steps.indexOf(step);\r\n\t\tvar width = this._getProgressWidth(index, step);\r\n\t\tthis._progressEl\r\n\t\t\t.transition()\r\n\t\t\t.duration(this._options.animationDuration)\r\n\t\t\t.style(\"width\", width+\"px\");\r\n\r\n\t\tthis._resizeSteps(step);\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tif (this._rendered){\r\n\t\t\tthis._progressEl.remove();\r\n\t\t}\r\n\r\n\t\tif (this._onStepBinding){\r\n\t\t\tthis._onStepBinding.destroy();\r\n\t\t}\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n}","import style from \"./Onboard.css\";\r\nimport * as d3 from \"d3\";\r\nimport PositionResolver from \"./PositionResolver\";\r\nimport ArrowRenderer from \"./ArrowRenderer\";\r\nimport ProgressRenderer from \"./ProgressRenderer\";\r\nimport * as Defaults from \"./OnboardDefaults\";\r\nimport * as BoxUtils from \"./utils/BoxUtils\";\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class WindowRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\t\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStepBinding = this._model.on(\"step\", this._onStep.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\r\n\t\tthis._positionResolver = new PositionResolver();\r\n\t\tthis._arrowRenderer = new ArrowRenderer(options, model);\t\t\r\n\t\tthis._progressRenderer = new ProgressRenderer(options, model);\t\t\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._renderWindow();\r\n\t\tthis._arrowRenderer.render(selector);\r\n\t\tthis._progressRenderer.render(this._windowEl.node());\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_renderWindow(){\r\n\t\tthis._windowEl = this._containerEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window\"] + \" \" + this._options.windowClassName)\r\n\t\t\t.style(\"width\", this._options.windowWidth + \"px\");\r\n\r\n\t\tthis._nextBtnEl = this._windowEl.append(\"div\")\r\n\t\t\t.on(\"click\", this._onNextClick.bind(this))\r\n\t\t\t.attr(\"class\", style[\"window-next-btn\"] + \" \" + Defaults.NEXT_BUTTON_CLASS_NAME);\r\n\r\n\t\tthis._nextBtnTextEl = this._nextBtnEl.append(\"span\")\r\n\t\t\t.attr(\"class\",style[\"window-next-btn-text\"])\r\n\t\t\t.html(this._options.nextText);\r\n\r\n\t\tthis._nextBtnEl.on(\"mouseover\", ()=>{\r\n\t\t\tthis._nextBtnEl.classed(style[\"window-next-btn-hover\"], true);\r\n\t\t});\r\n\r\n\t\tthis._nextBtnEl.on(\"mouseout\", ()=>{\r\n\t\t\tthis._nextBtnEl.classed(style[\"window-next-btn-hover\"], false);\r\n\t\t})\r\n\r\n\t\tthis._nextBtnIconEl = this._nextBtnEl.append(\"div\").attr(\"class\",style[\"window-btn-icon\"]+\" zmdi zmdi-long-arrow-right\");\r\n\r\n\t\tthis._prevBtnEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-prev-btn\"] + \" \" + Defaults.PREV_BUTTON_CLASS_NAME)\r\n\t\t\t.on(\"click\", this._onPrevClick.bind(this))\r\n\t\t\t.html(this._options.prevText)\r\n\r\n\t\tthis._prevBtnEl.append(\"div\").attr(\"class\",style[\"window-btn-icon\"]+\" zmdi zmdi-long-arrow-left\");\t\t\t\r\n\r\n\t\tthis._titleEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-title\"] + \" \" +Defaults.WINDOW_TITLE_CLASS_NAME)\r\n\r\n\t\tthis._bodyEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-body\"] + \" \" + Defaults.WINDOW_BODY_CLASS_NAME)\r\n\r\n\t\tthis._closeEl = this._windowEl.append(\"div\")\r\n\t\t\t.attr(\"class\", style[\"window-close\"] + \" zmdi zmdi-close\")\r\n\t\t\t.on(\"click\", this._onCloseClick.bind(this))\r\n\t}\r\n\r\n\t_onCloseClick(){\r\n\t\tthis._model.stop();\r\n\t}\r\n\r\n\t_onNextClick(){\r\n\t\tthis._nextBtnEl.classed(style[\"window-next-btn-hover\"], false);\r\n\r\n\t\tif (this._model.hasNext()){\r\n\t\t\tthis._model.next();\r\n\t\t} else {\r\n\t\t\tthis._model.stop();\r\n\t\t}\r\n\t}\r\n\r\n\t_onPrevClick(){\r\n\t\tthis._model.prev();\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStart() {\r\n\t\tthis._windowEl.style(\"display\", \"block\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStep(step) {\r\n\t\tthis._titleEl.html(step.title);\r\n\t\tthis._bodyEl.html(step.text);\r\n\r\n\t\tthis._prevBtnEl.classed(style[\"window-button-has-prev\"], this._model.hasPrev());\r\n\t\tthis._nextBtnEl.classed(style[\"window-button-has-next\"], this._model.hasNext());\r\n\t\tthis._nextBtnTextEl.html(step.nextText || this._options.nextText)\r\n\t\tthis._windowEl.attr(\"class\", style[\"window\"] + \" \" + (step.windowClassName || this._options.windowClassName))\r\n\t\tthis._windowEl.style(\"width\", (step.windowWidth || this._options.windowWidth) + \"px\");\r\n\r\n\t\tif (!step.selector) {\r\n\t\t\tthis._windowEl.transition().duration(this._options.animationDuration)\r\n\t\t\t\t.style(\"left\", null)\r\n\t\t\t\t.style(\"top\", null);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar selection = d3.selectAll(step.selector);\r\n\r\n\t\tvar targetBox = BoxUtils.getTargetBox(selection);\r\n\t\tvar windowBox = BoxUtils.getBox(this._windowEl.node());\r\n\t\tvar windowPosition = this._positionResolver.getWindowPosition(targetBox, windowBox, this._arrowRenderer.getArrowBox());\r\n\r\n\t\tthis._windowEl.transition().duration(this._options.animationDuration)\r\n\t\t\t.style(\"left\", windowPosition.left+\"px\")\r\n\t\t\t.style(\"top\", windowPosition.top+\"px\");\r\n\r\n\t\tthis._windowEl.classed(style[\"window-\"+windowPosition.position], true);\r\n\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {MaskRenderer} \r\n\t */\r\n\t_onStop() {\r\n\t\tthis._windowEl.style(\"display\", \"none\");\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStepBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\tthis._progressRenderer.destroy();\r\n\t\tthis._arrowRenderer.destroy();\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import Observable from \"./utils/Observable\";\r\nimport MaskRenderer from \"./MaskRenderer\";\r\nimport WindowRenderer from \"./WindowRenderer\";\r\nimport * as d3 from \"d3\";\r\n\r\n/**\r\n * @class\r\n * Onboard class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardRenderer {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * DOM container of this widget\r\n\t\t */\r\n\t\tthis._containerEl = null;\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * true if Onboard has been rendered\r\n\t\t */\r\n\t\tthis._rendered = false;\r\n\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Model\r\n\t\t */\r\n\t\tthis._model = model;\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * observable handler\r\n\t\t */\r\n\t\tthis._observable = new Observable([\r\n\t\t\t\r\n\t\t]);\t\t\r\n\r\n\t\tthis._maskRenderer = new MaskRenderer(options, model);\r\n\t\tthis._windowRenderer = new WindowRenderer(options, model);\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Returns whether Onboard has been rendered or not\r\n\t * @returns {boolean} true if Onboard has been rendered\r\n\t */\r\n\tisRendered() {\r\n\t\treturn this._rendered;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * Render logic of this widget\r\n\t * @param {String|DOMElement} selector selector or DOM element \r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\trender(selector) {\r\n\t\t// get container element using selector or given element\r\n\t\tthis._containerEl = d3.select(selector || document.body);\r\n\r\n\t\tthis._maskRenderer.render(selector);\r\n\t\tthis._windowRenderer.render(selector);\r\n\r\n\t\tthis._rendered = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Bind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} handler event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\ton(eventName, handler) {\r\n\t\tthis._observable.on(eventName, handler);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Unbind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} [handler] event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\toff(eventName, handler) {\r\n\t\tthis._observable.off(eventName, handler);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._observable.destroy();\t\r\n\r\n\t\tthis._maskRenderer.destroy();\r\n\t\tthis._windowRenderer.destroy();\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import Observable from \"./utils/Observable\";\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardModel {\r\n\tconstructor(options) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._steps = options.steps || [];\r\n\r\n\t\tthis._currentStep = null;\r\n\t\tthis._currentStepIndex = -1;\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * observable handler\r\n\t\t */\r\n\t\tthis._observable = new Observable([\r\n\t\t\t/**\r\n\t\t\t * @event start\r\n\t\t\t * @param {Object} step\r\n\t\t\t * @param {int} index\r\n\t\t\t */\r\n\t\t\t\"start\",\r\n\t\t\t/**\r\n\t\t\t * @event stop\r\n\t\t\t * @param {Object} step\r\n\t\t\t * @param {int} index\r\n\t\t\t */\r\n\t\t\t\"stop\",\r\n\t\t\t/**\r\n\t\t\t * @event step\r\n\t\t\t * @param {Object} step\r\n\t\t\t * @param {int} index\r\n\t\t\t */\r\n\t\t\t\"step\"\r\n\t\t]);\t\t\r\n\t}\r\n\r\n\tgetSteps(){\r\n\t\treturn this._steps;\r\n\t}\r\n\r\n\tstart(){\r\n\t\tthis._currentStepIndex = 0;\r\n\t\tthis._currentStep = this._steps[this._currentStepIndex];\r\n\t\tthis._observable.fire(\"start\", this._currentStep, this._currentStepIndex);\r\n\t\tthis._observable.fire(\"step\", this._currentStep, this._currentStepIndex);\r\n\t}\r\n\r\n\tstop(){\r\n\t\tthis._observable.fire(\"stop\", this._currentStep, this._currentStepIndex);\r\n\t\tthis._currentStep = null;\r\n\t\tthis._currentStepIndex = -1;\r\n\t}\t\r\n\r\n\tnext(){\r\n\t\tif (this.hasNext()){\r\n\t\t\tthis._currentStep = this._steps[++this._currentStepIndex];\r\n\t\t\tthis._observable.fire(\"step\", this._currentStep, this._currentStepIndex);\r\n\t\t}\r\n\t}\r\n\r\n\tprev(){\r\n\t\tif (this.hasPrev()){\r\n\t\t\tthis._currentStep = this._steps[--this._currentStepIndex];\r\n\t\t\tthis._observable.fire(\"step\", this._currentStep, this._currentStepIndex);\r\n\t\t}\r\n\t}\r\n\r\n\thasNext(){\r\n\t\treturn this._steps.length > this._currentStepIndex +1;\r\n\t}\r\n\r\n\thasPrev(){\r\n\t\treturn this._currentStepIndex > 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Bind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} handler event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\ton(eventName, handler) {\r\n\t\tthis._observable.on(eventName, handler);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Unbind widget event\r\n\t * @param {String} event event name\r\n\t * @param {Function} [handler] event handler\r\n\t * @returns {Onboard} returns this widget instance\r\n\t */\r\n\toff(eventName, handler) {\r\n\t\tthis._observable.off(eventName, handler);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._observable.destroy();\r\n\t\tthis._currentStep = null;\r\n\r\n\t\treturn this;\r\n\t}\r\n}","import * as d3 from \"d3\";\r\n\r\n/**\r\n * @class\r\n * @param {Object} options\r\n */\r\nexport default class OnboardKeyHandler {\r\n\tconstructor(options, model) {\r\n\t\t/**\r\n\t\t * @private \r\n\t\t * Onboard options\r\n\t\t */\r\n\t\tthis._options = options;\r\n\t\tthis._model = model;\r\n\r\n\t\tthis._onStartBinding = this._model.on(\"start\", this._onStart.bind(this));\r\n\t\tthis._onStopBinding = this._model.on(\"stop\", this._onStop.bind(this));\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {OnboarKeyHandler} \r\n\t */\r\n\t_onStart() {\r\n\t\td3.select(document).on(\"keydown.onboard\", this._onKeyDown.bind(this));\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {OnboarKeyHandler} \r\n\t */\r\n\t_onKeyDown(){\r\n\t\tif(d3.event.key == \"ArrowLeft\" || d3.event.key == \"Backspace\"){\r\n\t\t\tthis._model.hasPrev()?this._model.prev():this._model.stop();\r\n\t\t} else if (d3.event.key == \"ArrowRight\" || d3.event.key == \"Enter\"){\r\n\t\t\tthis._model.hasNext()?this._model.next():this._model.stop();\r\n\t\t} else if (d3.event.key == \"Escape\"){\r\n\t\t\tthis._model.stop();\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\td3.event.preventDefault();\r\n\t}\r\n\r\n\t/**\r\n\t * @public\r\n\t * @returns {OnboarKeyHandler} \r\n\t */\r\n\t_onStop() {\r\n\t\td3.select(document).on(\"keydown.onboard\", null);\r\n\t\treturn this;\r\n\t}\t\r\n\r\n\t/**\r\n\t * @public\r\n\t * Destorys Onboard UI  \r\n\t */\r\n\tdestroy() {\r\n\t\tthis._onStop();\r\n\r\n\t\tthis._onStartBinding.destroy();\r\n\t\tthis._onStopBinding.destroy();\r\n\r\n\t\treturn this;\r\n\t}\r\n}"],"names":["isObject","value","type","getRawTag","isOwn","hasOwnProperty","call","symToStringTag","tag","undefined","unmasked","e","result","nativeObjectToString","objectToString","baseGetTag","undefinedTag","nullTag","Object","isObjectLike","isSymbol","symbolTag","toNumber","NAN","other","valueOf","replace","reTrim","isBinary","reIsBinary","test","reIsOctal","freeParseInt","slice","reIsBadHex","debounce","func","wait","options","invokeFunc","time","args","lastArgs","thisArg","lastThis","apply","leadingEdge","setTimeout","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","lastInvokeTime","maxing","nativeMin","maxWait","shouldInvoke","now","trailingEdge","trailing","cancel","timerId","flush","debounced","isInvoking","arguments","this","TypeError","FUNC_ERROR_TEXT","nativeMax","getOptionValue","optionValue","defaultOptionValue","Observable","events","_handlers","reduce","acc","cur","event","handler","push","off","handlers","index","indexOf","splice","i","length","FILL_COLOR","FILL_OPACITY","ANIMATION_DURATION","NEXT_TEXT","WINDOW_CLASS_NAME","WINDOW_WIDTH","freeGlobal","global","freeSelf","self","root","Function","Date","Symbol","objectProto","prototype","toString","toStringTag","parseInt","Math","max","min","MaskRenderer","model","_options","_containerEl","_svgEl","_stepElements","_rendered","_model","_onStartBinding","on","_onStart","bind","_onStepBinding","_onStep","_onStopBinding","_onStop","selector","d3","document","body","_renderMask","documentElement","offsetWidth","clientWidth","offsetHeight","clientHeight","size","_getViewSize","append","attr","style","width","height","_defsEl","_maskEl","_maskBg","_bgEl","fillColor","fillOpacity","_onWindowResize","_this","_step","_clearSteps","_renderStep","addEventListener","forEach","element","remove","step","nodes","_this2","_renderStepElement","shape","tagName","_renderPathMask","_renderCircleMask","_renderRectangleMask","el","parseFloat","window","getComputedStyle","getPropertyValue","box","getBoundingClientRect","top","scrollTop","left","scrollLeft","_getBox","borderRadius","_getBorderRadius","offset","radius","strokeWidth","cx","cy","svgElement","parentElement","removeEventListener","destroy","PositionResolver","targetBox","windowBox","arrowBox","position","_getTargetPosition","_getLeftWindowPosition","_getTopWindowPosition","_getLeftArrowPosition","_getTopArrowPosition","point","crossPoint","s","join","getBox","getMultiBox","boxes","map","node","right","bottom","getTargetBox","selection","ArrowRenderer","_positionResolver","_arrowBox","_renderArrow","_arrowEl","BoxUtils","arrowPosition","getArrowPosition","transition","duration","OnboardRenderer","_steps","getSteps","filter","showProgress","_numOfSteps","_renderProgress","_renderSteps","_progressEl","classed","stepWidth","_getStepWidth","animationDuration","windowWidth","_getProgressWidth","_resizeSteps","WindowRenderer","_arrowRenderer","_progressRenderer","ProgressRenderer","_renderWindow","render","_windowEl","windowClassName","_nextBtnEl","_onNextClick","_nextBtnTextEl","html","nextText","_nextBtnIconEl","_prevBtnEl","_onPrevClick","prevText","_titleEl","_bodyEl","_closeEl","_onCloseClick","stop","hasNext","next","prev","title","text","hasPrev","windowPosition","getWindowPosition","getArrowBox","_observable","_maskRenderer","_windowRenderer","eventName","OnboardModel","steps","_currentStep","_currentStepIndex","fire","OnboardKeyHandler","_onKeyDown","key","preventDefault","Defaults","_onboardRenderer","_onboardKeyHandler","start"],"mappings":"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"}